(defun rep2 (x)
    (seq x x)
)
(defun rep16 (x)
    (rep2 (rep2 (rep2 x)))
)
(defun rep4096 (x)
    (rep16 (rep16 (rep16 x)))
)
(defun stem_factor ()
  (scale 0.1
    (seq (const 0 0.25) (const 1 0.75))
  )
)
(defun head_factor ()
  (mult
    (hzosc 1)
    (seq (const 1 0.25) (const 0 0.75))
  )
)
(defun mushroom ()
  (mult
    (hzosc 50)
    (sum (stem_factor) (head_factor))
  )
)
(set-control-srate 44100)
(rep4096 (stretch (/ 1.0 44.0) (mushroom)))
